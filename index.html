<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flashcard Study App</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2563eb">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<link rel="stylesheet" href="styles.css">
<script>
(function () {
  var config = {};

  window.elementSdk = {
    init: function (api) {
      // Store defaults safely
      if (api && api.defaultConfig) {
        config = Object.assign({}, api.defaultConfig);
      } else {
        config = {};
      }

      // Expose fake edit panel updates if needed
      window.__elementApi = api;
    },

    setConfig: function (newConfig) {
      config = Object.assign({}, config, newConfig);

      // Notify app if config changes
      if (
        window.__elementApi &&
        typeof window.__elementApi.onConfigChange === "function"
      ) {
        window.__elementApi.onConfigChange(config);
      }
    },

    getConfig: function () {
      return Object.assign({}, config);
    }
  };
})();
</script>

<script>
(function () {
  var STORAGE_KEY = "flashcards_data";
  var handler = null;
  var data = [];

  function load() {
    try {
      var stored = localStorage.getItem(STORAGE_KEY);
      data = stored ? JSON.parse(stored) : [];
    } catch (e) {
      data = [];
    }
  }

  function save() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
  }

  function notify() {
    if (handler && typeof handler.onDataChanged === "function") {
      handler.onDataChanged(data.slice());
    }
  }

  function generateId() {
    return (
      "id_" +
      Date.now() +
      "_" +
      Math.random().toString(36).slice(2, 8)
    );
  }

  window.dataSdk = {
    init: function (h) {
      handler = h;
      load();
      notify();
      return Promise.resolve({ isOk: true });
    },

    create: function (item) {
      var newItem = Object.assign({}, item, {
        id: generateId()
      });

      data.push(newItem);
      save();
      notify();

      return Promise.resolve({ isOk: true, item: newItem });
    },

    delete: function (opts, silent) {
      if (!opts || !opts.id) {
        return Promise.resolve({ isOk: false });
      }

      data = data.filter(function (d) {
        return d.id !== opts.id;
      });

      save();
      if (!silent) notify();

      return Promise.resolve({ isOk: true });
    },

    update: function (updatedItem) {
      if (!updatedItem || !updatedItem.id) {
        return Promise.resolve({ isOk: false });
      }

      for (var i = 0; i < data.length; i++) {
        if (data[i].id === updatedItem.id) {
          data[i] = updatedItem;
          break;
        }
      }

      save();
      notify();

      return Promise.resolve({ isOk: true });
    },

    getAll: function () {
      return data.slice();
    }
  };
})();
</script>
  <script src="tailwindcss.js"></script>

  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full"></div>
  <div id="aiLoading" class="loading">
  <div class="spinner"></div>
  <p>Generating cards with AIâ€¦</p>
</div>
   <script src="app.js"></script>
   <button
  id="installAppBtn"
  style="
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    padding: 12px 18px;
    border-radius: 12px;
    background: #2563eb;
    color: white;
    font-weight: 600;
    border: none;
    box-shadow: 0 10px 20px rgba(0,0,0,.15);
    cursor: pointer;
    z-index: 9999;
  "
>
  ðŸ“¥ Install App
</button>

 </body>
 </html>
